# v1.0 的开发日记
移植 applem2 引擎作为 youthm2 引擎，其中 applem2 是 Delphi 项目，它使用的是 Object Pascal 语言，而 youthm2 引擎准备使用 Java 语言开发。

## 2019
移植源代码时，尽可能保留现有功能。

### 06-24
遇到了进程间通信的问题，在犹豫是否采用 socket，还是使用 Java Fx 自带的 Process 功能。

其实可以先略过这部分内容，就像基于接口开发一样，把骨架搭建起来，以后再装修。

### 06-28
考虑到未来的 UI 重构，以及外观的美化，想采用 JavaFX 自带的皮肤编辑器。

### 07-04
在打包 bootstrap 时遇到了问题。

用 IDEA artifacts 打包时，生成的 JavaFX App 需要配置很多东西。

用插件打包的话，只需要额外运行一组命令即可。

唯一不舒服的地方是，在 root 模块中的插件，也必须设置一个 mainClass 参数，但 root 模块是空项目，有点挂空挡的感觉。

由于 maven 插件打包 JavaFX 耗时太长，平均每个模块超过 40s，所以决定使用 exe4j 工具对项目进行打包。

### 07-05
昨晚换台电脑发现 exe4j 打包配置失效了，原来它只能在配置过的电脑上进行打包，居然用的是绝对路径配置，真可怕！

现在，我必须决定开发方向：1.回到最初的想法——简单移植；2.采用其他框架辅助。

由于不熟悉 Spring Cloud 以及 Spring Boot，又不想用 Play framework 去做这个。

那就只有一个选择：简单移植。

一般来说，重构发生在开发过程中，但我不熟悉全部项目，所以我应该先简单移植，拒绝重构。

#### 07-06
沉下心来，把参数配置页面按照自己的想法实现了一下。

另外，程序配置中的 filename 被我删除了，因为不需要做得这么麻烦，使用 path 作为全路径就好。

引导程序配置中的 home 代表程序工作目录，我们的文件选择器就从这里打开。

实现其实还挺有趣的，不要因为思路杂乱，就觉得难以入手，真正的问题从来都是在开发中而不是思考中遇到。

所以，先移植，熟悉结构之后，再重构，再考虑打包、发布这些细节。

因为没经验，所以必须脚踏实地！

再有一个想法：使用 git-flow 时，如果 feature 完成了，请不要立即 finish，而应该做一下简单测试，甚至编写单元测试类，通过测试之后，才能 finish 这个 feature！

一定要记得，按照规范的流程做事情，要不然很容易半途而废。

#### 07-18
最近没怎么搞移植，导致之前的思路中断，随后开始坚定“先移植，后重构”的作战方针。

布局开始回归到既有的样式，会简单做一下优化，但绝不深入。

#### 07-29
表弟来苏州 3 个星期，期间除了上班时间可以做一下移植重构外，基本上时间都在玩去了。

现在表弟走了，也有时间搞一下这个项目了。

但是学了一些 Angular JS 之后，发现之前对 RxJava 的使用完全错误，也导致 MVVM 的设计需要调整。

那么就从今天开始搞一下 MVVM 的改善吧。